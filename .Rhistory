install.packages("RMySQL")
library(RMySQL)
?dbconnect()
dbconnect
?dbConnect
mydb=dbconnect(MySQL(), user='root',password='root', dbname='w3c', port=8889)
mydb=dbConnect(MySQL(), user='root',password='root', dbname='w3c', port=8889)
MySQL()
mydb=dbConnect(MySQL(), user='root',password='root', dbname='w3c', port=8889)
setwd('~/Documents/JavaProjects/onlineLDA/')
keywords<-read.csv('jacm/JACM_Articles.csv',header=T)
ids.to.sample<-read.delim('jacm/withIDAbstracts.txt',header=F)
names(ids.to.sample)
dim(ids.to.sample)
tail(ids.to.sample$V1)
length(ids.to.sample$V1)
ids.to.sample$V1
ids.to.sample[V1==]
ids.to.sample[V1=='1236460']
ids.to.sample[V1=='1236460',]
ids.to.sample[ids.to.sample$V1=='1236460']
ids.to.sample[ids.to.sample$V1=='1236460',]
ids.to.sample<-read.delim2('jacm/withIDAbstracts.txt',header=F)
dims(ids.to.sample)
dim(ids.to.sample)
ids.to.sample<-read.table('jacm/withIDAbstracts.txt',sep='\t')
ids.to.sample<-read.table('jacm/withIDAbstracts.txt',sep='\t',quote='')
head(ids.to.sample)
head(ids.to.sample$V1)
sample.ids<-sample(ids.to.sample$V1,10)
names(keywords)
subset(keywords, ID % in % sample.ids)
subset(keywords, ID %in% sample.ids)
t1<-subset(keywords, ID %in% sample.ids)
head(sampleids,10)
head(sample.ids,10)
fix(sample.ids)
row.names(ids.to.sample[ids.to.sample$V1 %in% sample.ids,])
rnumbes<-row.names(ids.to.sample[ids.to.sample$V1 %in% sample.ids,])
rnumbers<-runmbes-1
rnumbers<-rnumbes-1
rnumbers<-integer(rnumbes)-1
integer(rnumbes)
rnumbes
rnumbes[1]
rnumbes[1]-1
integer(rnumbes[1])-1
as.numeric(rnumbes)
rnumbers<-as.numeric(rnumbes)-1
rnumbers
fix(rnumbes)
sample.rownumbers<-rnumbers
sample.keywords<-t1
head(sample.keywords,1)
head(sample.keywords,2)
sample.set<-cbind(sample.rownumbers,sample.keywords)
names(sample.set)
results<-read.delim(file='/WikiResults/gensim4_topicdist.txt',header=F)
results<-read.delim(file='WikiResults/gensim4_topicdist.txt',header=F)
results<-cbind(as.character(results[grep('^ID:',x=results$V1),]),as.character(results[grep('^ID:',x=results$V1)+1,]))
results[,2]<-gsub('topic: |  -- .* *','',results[,2])
head(results)
results<-read.delim(file='WikiResults/gensim4_topicdist.txt',header=F)
results<-data.frame(read.delim(file='WikiResults/gensim4_topicdist.txt',header=F))
head(results)
results<-gsub('topic: |^ID: |\\s+$|  -- .* *','',results)
head(results)
results<-data.frame(read.delim(file='WikiResults/gensim4_topicdist.txt',header=F))
results<-gsub('topic: |^ID: |\\s+$|  -- .* *','',as.character(results))
head(results)
results<-read.delim(file='WikiResults/gensim4_topicdist.txt',header=F)
results<-gsub('topic: |^ID: |\\s+$|  -- .* *','',as.character(results))
head(results)
results<-read.delim(file='WikiResults/gensim4_topicdist.txt',header=F)
head(results)
results<-gsub('^topic: |^ID: |\\s+$|  -- .* *','',results)
head(results)
results<-read.delim(file='WikiResults/gensim4_topicdist.txt',header=F)
?gsub
gsub('^topic: |^ID: |\\s+$|  -- .* *','','ID: 1443434')
gsub('^topic: |^ID: |\\s+$|  -- .* *','','topic: yegin genc -- 0.23')
gsub('^topic: |^ID: |\\s+$|  -- .* *','','topic: yegin genc  -- 0.23')
results$v1<-gsub('^topic: |^ID: |\\s+$|  -- .* *','',results$V1)
results$V1<-gsub('^topic: |^ID: |\\s+$|  -- .* *','',results$V1)
head(results)
results<-subset(resutlts,select=-c(v1))
results<-subset(results,select=-c(v1))
head(results)
resutlts$V2<-resutls$V1
results$V2<-resutls$V1
results$V2<-results$V1
reuslts[!is.numeric(results$V2),]$V2<-0
results[!is.numeric(results$V2),]$V2<-0
head(results)
results$V2<-results$V1
results[grep([0-9], results$V2),]$V2<-0
results[grep('[0-9]', results$V2),]$V2<-0
head(results)
results$V2<-results$V1
results[grep('[^0-9]', results$V2),]$V2<-0
head(results)
nrow(subset(results, V2=0))
while(nrow(subset(results, V2=0)))
{results[grep(results$V2=0),]$V2<-results[grep(results$V2=0)-1,]$V2}
while(nrow(subset(results, V2=0)))
{results[results$V2=0,]$V2<-results[row.names(results[results$V2=0,])-2,]$V2}
results[results$V2=0,]$V2
results[results$V2==0,]$V2
results[(results$V2==0)-1,]$V2
head(results[(results$V2==0)-1,]()
)
head(results[(results$V2==0)-1,]
head(results[(results$V2==0)-1,])
}
head(results[(results$V2==0)-1,])
head(results[(results$V2==0),])
head(results[results$V2==0,])
head(row.names(results[results$V2==0,]))
head(row.names(results[results$V2==0,])-1)
head(results[results$V2==0,])
results[row.number==1,]
results[row.number==1]
results[row.number(results)==1]
results[row.names(results)==1]
results[row.names(results)=1]
results[row.names(results)%in'1']
results[row.names(results)%in%'1']
head(results[results$V2==0,])
head(results[results$V2==0,]-1)
head(results[results$V2==0,]+1)
head(results[results$V2==0]+1)
head(results[results[results$V2==0,]]+1)
head( results[results$V2==0,]+1)
head( results[results$V2==0,])
head( row.names(results[results$V2==0,]))
rownames(row.names(results[results$V2==0,])-1)
rownames(as.numeric(row.names(results[results$V2==0,]))-1)
rownames(as.numeric(row.names(results[results$V2==0,])))
as.numeric(row.names(results[results$V2==0,]))
as.numeric(row.names(results[results$V2==0,]))-1
as.numeric(row.names(results[results$V2==0,]))
as.numeric(row.names(results[results$V2==0,]))-1
resultsas.numeric(row.names(results[results$V2==0,]))-1]
results[as.numeric(row.names(results[results$V2==0,]))-1]
results[as.numeric(row.names(results[results$V2==0,]))-1,]
head(results[results$V2==0,]$V2results[results$V2==0,]$V2)
head(results[results$V2==0,]$V2)
while(nrow(subset(results, V2=0))) {
results[results$V2==0,]$V2<-results[as.numeric(row.names(results[results$V2==0,]))-1,]$V2
}
while(nrow(subset(results, V2=0))>0) {
results[results$V2==0,]$V2<-results[as.numeric(row.names(results[results$V2==0,]))-1,]$V2
}
nrow(subset(results, V2=0))
results[results$V2==0,]$V2<-results[as.numeric(row.names(results[results$V2==0,]))-1,]$V2
nrow(subset(results, V2=0))
head(results[as.numeric(row.names(results[results$V2==0,]))-1,]$V2)
head(results)
nrow(subset(results, V2==0))
results<-results[grep('[^0-9]',results$V1),]
head(results)
results2<-melt(results, .(V2),V1)
require(plyr)
results2<-melt(results, .(V2),V1)
require(reshape)
require(reshape2)
results2<-melt(results, .(V2),V1)
results2<-melt(results, .(V2),t(V1))
results2<-melt(results, .(V2),t(results$V1))
results2<-melt(results, id.vars=c('V1'))
head(results3)
head(results2)
results2<-melt(results, id.vars=c('V2'))
hea(results)
hea(results2)
head(results2)
results2<-acastt(results, .(V2), V1)
results2<-acast(results, .(V2), V1)
results2<-acast(results, .(V2))
results2
results2<-acast(results, .(V2),t(V1))
results2<-acast(results, .(V2),t(results$V1))
results2<-acast(results, .(V2), summarize, t(results$V1))
results2<-acast(results, .(V2), summarize, function(x) t(V1))
results2<-acast(results, .(V2), summarize, function(x) t(x$V1))
results2<-acast(results, .(V2),  function(x) t(x$V1))
results2<-acast(results, .(V2),  function(x) t(x[,V1]))
head(results)
acast(head(results), V2~V1,)
acast(head(results), V2~.,)
acast(head(results), V2~V1.,)
acast(head(results), V2~V1,)
acast(head(results), V1~,)
acast(head(results), V1~.,)
acast(head(results), V1~,V2)
acast(head(results), V1~V2,)
acast(head(results), V2~V1,)
acast(head(results), V1~V2,)
results[results$V2 %in%sample.ids]
results[results$V2 %in%sample.ids,]
sample.wikis<-results[results$V2 %in%sample.ids,]
ddply()
ddply(sample.wikis, .(V2), summarize, t(V1))
ddply(sample.wikis, .(V2),  t(V1))
ddply(sample.wikis, .(V2), transform,  t(V1))
sample.wikis
ddply(sample.wikis, .(V2), length(V1))
ddply(sample.wikis, .(V2), length(sample.wikis$V1))
ddply(sample.wikis, .(V2), summarize,length(sample.wikis$V1))
ddply(sample.wikis, .(V2), summarize,length(V1))
ddply(sample.wikis, .(V2), summarize,t(V1))
ddply(sample.wikis, .(V2), t(V1))
?ddply
ddply(sample.wikis, .(V2), transform, t(V1))
t(sample.wikis$V1)
ddply(sample.wikis, .(V2), transform, V1)
ddply(sample.wikis, .(V2), summarize, V1)
ddply(sample.wikis, .(V2), summarize, data.frame(V1))
?aggregate
aggregate(results, .V2,)
aggregate(results, .V2,t(V1))
aggregate(results, .V2,V1)
aggregate(results, .V2, c=V1)
head(results)
sample.wikis
acast(sample.wiki, .(V2), length(V1))
acast(sample.wikis, .(V2), length(V1))
acast(sample.wikis, .(V2), summarize,length(V1))
acast(sample.wikis, V2~V1)
test=acast(sample.wikis, V2~V1)
head(test)
test[row.names=='1059516',]
test[1059516,]
test[1059516]
test(1059516)
test[1059516,]
test['1059516,]
test['1059516,][]
test['1059516',]
t(test['1059516',])
colnames(test['1059516',])
melt(test['1059516',])
sample.wikis
subset(sample.wikis, V2=='1059516')
t(subset(sample.wikis, V2=='1059516'))
t(subset(sample.wikis, V2=='1059516'))$V1
t(subset(sample.wikis, V2=='1059516'))[0]
t(subset(sample.wikis, V2=='1059516'))[1]
t(subset(sample.wikis, V2=='1059516'))
subset(sample.wikis, V2=='1059516')$V1
for id in sample.ids{
print id
}
for (id in sample.ids) {
print id
}
for (id in sample.ids) {
print(id)
}
wiki.cats<-sample.ids
wiki.cats<-sample.ids
wiki.cats
wiki.cats<-data.frame(sample.ids)
wiki.cats
for (id in sample.ids) {
wiki.cats[sampleids==id,]$V2<-paste(subset(sample.wikis, V2=='1059516')$V1,sep=' ; ')
}
for (id in sample.ids) {
wiki.cats[sample.ids==id,]$V2<-paste(subset(sample.wikis, V2=='1059516')$V1,sep=' ; ')
}
wiki.cats
wiki.cats<-cbind(data.frame(sample.ids), V2)
wiki.cats<-cbind(data.frame(sample.ids),V2=rep(NA, length(sample.id)))
wiki.cats<-cbind(data.frame(sample.ids),V2=rep(NA, length(sample.ids)))
for (id in sample.ids) {
wiki.cats[sample.ids==id,]$V2<-paste(subset(sample.wikis, V2=='1059516')$V1,sep=' ; ')
}
wiki.cats
wiki.cats<-cbind(data.frame(sample.ids),V2=rep(NA, length(sample.ids)))
for (id in sample.ids) {
wiki.cats[sample.ids==id,]$V2<-paste(subset(sample.wikis, V2=id)$V1,sep=' ; ')
}
wiki.cats<-cbind(data.frame(sample.ids),V2=rep(NA, length(sample.ids)))
for (id in sample.ids) {
wiki.cats[sample.ids==id,]$V2<-paste(subset(sample.wikis, V2==id)$V1,sep=' ; ')
}
for (id in sample.ids) {
print(paste(subset(sample.wikis, V2==id)$V1,sep=' ; '))
}
?past
?paste
for (id in sample.ids) {
print(paste(as.vector(subset(sample.wikis, V2==id)$V1),sep=' ; '))
}
wiki.samples
sample.wikis
for (id in sample.ids) {
print(id)
print(paste(subset(sample.wikis, V2==id)$V1,sep=' ; '))
}
for (id in sample.ids) {
print(id)
print(paste(subset(sample.wikis, V2==id)$V1,sep=' ; ')))
}
subset(sample.wikis, V2==1613680)$V1
paste(subset(sample.wikis, V2==1613680)$V1)
paste(subset(sample.wikis, V2==1613680)$V1,sep=';')
factor(subset(sample.wikis, V2==1613680)$V1,sep=';')
factor(subset(sample.wikis, V2==1613680)$V1,sep=';'))
factor(subset(sample.wikis, V2==1613680)$V1)
paste(subset(sample.wikis, V2==1613680)$V1,collapse='')
paste(subset(sample.wikis, V2==1613680)$V1,collapse=' ; ')
for (id in sample.ids) {
wiki.cats[sample.ids==id,]$V2<-paste(subset(sample.wikis, V2==id)$V1,collapse=' ; ')
}
wiki.cats
head(sample.sit)
head(sample.set)
names(wiki.cats)<-c('ID','Wiki.cats')
sample.set2<-merge(sample.set,wiki.cats, by='ID',all=T)
sample.set2
write.table(sample.set2,file='WikiResults/SampleText.txt',sep='\t')
names(sample.set2)
read.delim('simpleLDA/_SampleTMtopics2.txt',header=T,sep='\t')
sample.LDA<-read.delim('simpleLDA/_SampleTMtopics2.txt',header=T,sep='\t')
sample.LDA<-subset(sample.LDA,select=c(sample.rownumbers,Topic,TM.Keywords))
names(sample.LDA)
sample.set3<-megre(sample.set2,sample.LDA, by='sample.rownumbers')
sample.set3<-merge(sample.set2,sample.LDA, by='sample.rownumbers')
sample.set3
write.table(sample.set3,file='WikiResults/FinalTable.txt',sep=)
write.table(sample.set3,file='WikiResults/FinalTable.txt',sep='\t')
names(ids.to.sample)
head(ids.to.sample)
names(results2)
names(results2)
names(sample.set)
topicnames<-read.delim('WikiResults/gensim4_topiccomparison.txt', header=F, sep='t')
topicnames<-read.delim('WikiResults/gensim4_topiccomparison.txt', header=F, sep='\t')
head(topicnames)
topics<-read.delim('jacm/JACM_Classes.txt',header=F)
head(topics)
topics$V2<-topics$V1
topics$V2<-gsub('^ID: |\\s+$,'',results$V2)
i
)
''
topics$V2<-gsub('^ID: |\\s+$','',results$V2)
topics$V2<-gsub('^ID: |\\s+$','',tioucs$V2)
head(topics$V)
head(topics$V2)
tioucs
topics
head(topics)
topics$V2<-gsub('^ID: |\\s+$','',topics$V2)
head(topics)
topics$V2<-0
head(topics)
topics[grep('\\W\\.[0-9] ',topics$V1)]$V2<-topics[grep('\\W\\.[0-9] ',topics$V1)]$V1
head(topics)
topics[grep('\\W\\.[0-9] ',topics$V1)]
topics[grep('\\W ',topics$V1)]
topics[grep('\\W',topics$V1)]
topics[grep('\\W',topics$V1),]
topics[grep('\\W\\.[0-9] ',topics$V1),]
topics[grep('\\W\\.',topics$V1),]
topics[grep('\\W\.',topics$V1),]
topics[grep('\\W.',topics$V1),]
topics[grep('\\W.[0-9] ',topics$V1),]
topics[grep('(\\W.[0-9] )',topics$V1),]
topics[grep('(\\W.[0-9]{1} )',topics$V1),]
topics[grep('^\\W.[0-9] ',topics$V1),]
topics[grep('^\\W\\.[0-9] ',topics$V1),]
topics[grep('^\\W\\. ',topics$V1),]
topics[grep('^\\W. ',topics$V1),]
topics[grep('^\\W ',topics$V1),]
topics[grep('^ \\W ',topics$V1),]
topics[grep('\\W ',topics$V1),]
topics[grep('\\W\\. ',topics$V1),]
topics[grep('\\W\\.',topics$V1),]
topics[grep('\\W.',topics$V1),]
topics[grep('\\W. ',topics$V1),]
topics[grep('\\. ',topics$V1),]
topics[grep('W\\. ',topics$V1),]
topics[grep('\\W\\. ',topics$V1),]
topics[grep('^\\W',topics$V1),]
topics[grep('\\W\\.',topics$V1),]
topics[grep('\\s+\\W\\.',topics$V1),]
topics[grep('\\s.\\W\\.',topics$V1),]
topics[grep('\\s*\\W\\.',topics$V1),]
topics
head(topics)
topics[grep('\W\\.',topics$V1),]
topics[grep('\\W\\.',topics$V1),]
topics[grep('\\W\\.',topics$V1)]
topics[grep('\\W\\.',topics$V1),]
grep('\\W\\.',topics$V1)
grep('\\W',topics$V1)
topics[grep('\\W ',topics$V1),]
topics[grep('\\[A-X] ',topics$V1),]
topics[grep('\\[A-Z]\\. ',topics$V1),]
topics[grep('\\[A-Z]. ',topics$V1),]
topics[grep('\\[A-Z]\\. ',topics$V1),]
topics[grep('\\[A-Z]\\.',topics$V1),]
topics[grep('[A-Z]\\. ',topics$V1),]
topics[grep('[A-Z]\\.[0-9] ',topics$V1),]
apply(topics[grep('[A-Z]\\.[0-9] ',topics$V1),],2, V2=V1)
apply(topics[grep('[A-Z]\\.[0-9] ',topics$V1),],2, summarizem V2=V1)
apply(topics[grep('[A-Z]\\.[0-9] ',topics$V1),],2, summarize, V2=V1)
apply(topics[grep('[A-Z]\\.[0-9] ',topics$V1),],2, function(x) {V2=V1})
topics[grep('[A-Z]\\.[0-9] ',topics$V1),]
topics[grep('[A-Z]\\.[0-9] ',topics$V1),]$V2<-topics[grep('[A-Z]\\.[0-9] ',topics$V1),]$V1
head(topics)
topics[grep('[A-Z]\\.[0-9] ',topics$V1),]$V2<-as.character(topics[grep('[A-Z]\\.[0-9] ',topics$V1),]$V1)
headtopics
head(topics)
topics[grep('^ID: ',topics$V1),]$V2<-as.character(gsub('^ID: |\\s+$','',topics[grep('^ID: ',topics$V1),]$V1))
head(topics)
topics<-subset(topics, V2!=0)
head(topics)
topics$V1<-topics$V2
topics2<-topics
while(nrow(topics2[grep('[^0-9]',topics2$V2),])>0) {
topics2[grep('[^0-9]',topics2$V2),]$V2<-topics2[grep('[^0-9]',topics2$V2)-1,]$V2
}
topics2
topics3<-topics2[grep('^[0-9]', topics$V1),]
head(topics2)
head(topics3)
topics3<-topics2[grep('[^0-9]', topics$V1),]
head(topics3)
author.class<-cbind(data.frame(sample.ids),V2=rep(NA, length(sample.ids)))
for (id in sample.ids) {
author.class[sample.ids==id,]$V2<-paste(subset(topics3, V2==id)$V1,collapse=' ; ')
}
author.class
names(sample3)
names(sample.set3)
names(author.class)
names(author.class)<-c('ID','Author.cats')
sample.set4<-merge(sample.set3,author.class,by='ID', all=T)
write.table(sample.set4,'WikiResults/FinalTable2.txt')
write.table(sample.set4,'WikiResults/FinalTable2.txt',row.names=F)
write.table(sample.set4,'WikiResults/FinalTable2.txt',row.names=F,quote=F)
write.table(sample.set4,'WikiResults/FinalTable2.txt',row.names=F,quote=F,sep='\t')
names(sample.set4)
write.table(sample.set4,'WikiResults/FinalTable2.txt',row.names=F,col.names=T,quote=F,sep='\t')
write.table(sample.set4,'WikiResults/FinalTable2.txt',row.names=F,col.names=T,sep='\t')
t.words<-read.delim('WikiResults/_')
t.words<-read.delim('simpleLDA/_Topics.txt',header=F)
head(t.words)
tail(tw.wors)
tail(tw.words)
tail(t.words)
t.words<-twords$V1
t.words<-t.words$V1
head(t.words)
t.words<-read.delim('simpleLDA/_Topics.txt',header=F,sep=)
t.words<-read.delim('simpleLDA/_Topics.txt',header=F,sep='\\s+')
t.words<-read.delim('simpleLDA/_Topics.txt',header=F,sep=' ')
head(t.words)
t.words<-read.delim('simpleLDA/_Topics.txt',header=F,)
t.words<-read.delim('simpleLDA/_Topics.txt',header=F)
head(t.words)
t.words$V1
data.frame(t.words$V1)
t.words<-data.frame(t.words$V1)
head(t.words)
names(t.words)<-c('t.word')
write.table(t.words,'WikiResults/topicWords.txt',row.names=F,col.names=F,quote=F)
